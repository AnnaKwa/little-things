Date: 14 March 2022
New folders:


- Cleaned up folders a bit more
  - manually checked for diff b/w my .py files and github
      - emcee.py --> I have lines added that plot log probs
      - _galaxy.py --> I had two lines to override fits_x_centers and fits_y_centers to be half the dimension of input array, because we usually crop the 2d fields. I got rid of it for now because we're going to figure out how to better crop the fields while still keeping the same center pixels as BBarolo
      - _models.py --> (ask Anna) I'm missing an update Anna made months ago with velocities_at_piecewise_bin_centers
      - _likelihood.py --> I made mask of the data
- Got the model to work, moved back to real data
- Compared our model w/ BBarolo in 2D to check that we get 2D correct -- great agreement
  - to make it apples to apples:
      - same number of bins as BB (+4)
      - BB bin centers were being used as our bin EDGES, fixed it

- Changed how we prevent pixel minimization
  - extend our model out to "inf" (10,000 kpc) using 4 bins
    - 3 bins out to 2x rmax in BB, then 1 bin from 2xrmax - 10,000


Date: 23 Dec 2021
New folders:
None

- The no overlapping pixels error is coming from the model field going outside the param bounds. On the interation that threw the error, the inclination angle is greater than np.pi/2, which is the upper bound given in the notebook. Plotting the model field shows that all the pixels are nans.
- Need to organize my folders.


Date: 22 Dec 2021
New folders:
real_data = going back to using real data from 2d moment maps

- Working on using the code with real data. If you don't fill nan, then after a few dozen iter you get a no overlapping pixels error. We need to figure out a way to penalize the model from minimizing the number of overlapping pixels without doing a fill nan.
- Need to organize my folders.


Date: 15 Dec 2021
New folders:

- Do we even need to use fill_nan anymore? Of the 4 fits done in the past couple days, the ones without fill nan have been the best. The point of bringing in the fill nan feature was so that the mcmc wouldn't try maximizing the lnlike by minimizing the number of pixels (by increasing inclination as much as possible). But, we aren't seeing that in the 2 runs we did without filling the nans.


Date: 14 Dec 2021
New folders:
ring_by_ring_data = creating the fake data one ring at a time, inside the for loop
- Doing fits where the fake data is generated inside the for loop gives good estimates of the param values. If you fill the nan pixels, the parameters are incredibly tightly constrained. If you don't fill the nan, then they're slightly less tightly constrained.

Date: 13 Dec 2021
New folders:
comparing_to_whole_data = creating the entire fake data field outside of the for loop
- When fitting multiple rings with all 3 params, the fake data is created ring-by-ring since it is inside the for loop. That means that the model only compares to the region of the galaxy covered by the ring. Anna suggested changing this by creating the entire fake data field outside of the for loop. That way, the param values may not be so tightly constrained for inclination and position angle. However, doing this results in horrible estimates of the param values. If you turn off the fill_nan feature, then it works well again. However, this is essentially the same as before because having the 'nan' pixels will cause the ring to simply cut out the region it overlaps with in the fake data. More investigating to be done.
